<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      type="text/css"
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <style>
      body {
        margin: 15px;
      }

      label textarea {
        vertical-align: top;
      }

      .btn {
        margin-top: 0.5em;
      }
      #form-edit-tweet {
        margin-left: 3em;
      }
      .message {
        color: red;
      }

      #submit-btn {
        margin-left: 18rem;
      }
    </style>

    <title>Edit Post</title>
  </head>
  <body>
    <h1>Edit Post</h1>
    {% for i in tweet %}
    <form
      id="form-edit-tweet"
      class="form-edit"
      action="/edit_tweet/{{ i['id'] }}"
      method="post"
    >
      <label for="editTweet">
        <textarea
          placeholder="{{ i['content'] }}"
          id="editTweet"
          name="editTweet"
          rows="5"
          cols="40"
          maxlength="280"
        ></textarea>
      </label>
      <br />
      <button
        type="submit"
        class="general-btn link-dark rounded"
        id="submit-btn"
      >
        Submit
      </button>
    </form>
    <p class="message" id="message_editTweet"></p>
    <!-- display the message if fail to create taskboard-->
    <script>
      const searchParams = new URLSearchParams(window.location.search);
      var warning = searchParams.get("warningEdit");
      console.log(warning);
      if (warning == 1)
        document.getElementById("message_editTweet").innerHTML =
          "You should input text.";
      else if (warning == 2)
        document.getElementById("message_editTweet").innerHTML =
          "Tweet has been edited.";
    </script>

    {% endfor %}
  </body>
</html>
